# ==========================================
# REQUIREMENTS OPTIMIZADO PARA RAILWAY - FIX CRASH
# ==========================================

# FastAPI y servidor web
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
python-multipart>=0.0.6

# Base de datos - MySQL + D1
sqlalchemy>=2.0.20
# CRITICAL: MySQL driver (requerido por imports)
pymysql>=1.1.0
cryptography>=41.0.0

# Cloud Storage - Cloudflare R2
boto3>=1.34.0
botocore>=1.34.0

# ==========================================
# PROCESAMIENTO DE IMÁGENES - OPTIMIZADO RAILWAY
# ==========================================

# ✅ FIX: PIL/Pillow primero (más ligero)
pillow>=10.0.0

# ✅ FIX: OpenCV headless (sin GUI dependencies)
opencv-python-headless>=4.8.0

# ✅ FIX: NumPy optimizado
numpy>=1.24.0,<1.26.0

# ✅ FIX: Scikit-learn específico
scikit-learn>=1.3.0,<1.4.0

# ==========================================
# RECONOCIMIENTO FACIAL ACADÉMICO - OPTIMIZADO
# ==========================================

# ✅ FIX: dlib específico para Railway (evitar compilación)
dlib>=19.22.0,<19.25.0

# ==========================================
# UTILIDADES CORE
# ==========================================

python-dotenv>=1.0.0
pydantic>=2.5.0
httpx>=0.25.0
requests>=2.31.0

# ==========================================
# RAILWAY SPECIFIC OPTIMIZATIONS
# ==========================================

# ✅ FIX: Remover psutil que puede causar problemas
# psutil>=5.9.0  # Comentado para Railway

# ✅ FIX: Remover dependencias pesadas innecesarias
# gunicorn>=21.2.0  # No necesario con uvicorn
# python-jose[cryptography]>=3.3.0  # No usado actualmente
# passlib[bcrypt]>=1.7.4  # No usado actualmente

# ==========================================
# NOTAS PARA RAILWAY DEPLOYMENT
# ==========================================

# 1. ✅ Versiones específicas para evitar conflictos
# 2. ✅ OpenCV headless para evitar problemas de GUI
# 3. ✅ dlib sin compilación extra
# 4. ✅ Dependencias mínimas para reducir tiempo de build
# 5. ✅ NumPy compatible con Railway