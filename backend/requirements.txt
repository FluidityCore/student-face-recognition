# ==========================================
# REQUIREMENTS PARA RAILWAY + DOCKERFILE
# ==========================================

# FastAPI y servidor web
fastapi>=0.104.0
uvicorn[standard]>=0.24.0
gunicorn>=21.2.0
python-multipart>=0.0.6

# Base de datos - MySQL + D1
sqlalchemy>=2.0.20
alembic>=1.12.0
# AGREGADO: MySQL driver
pymysql>=1.1.0
cryptography>=41.0.0

# Cloud Storage - Cloudflare R2
boto3>=1.34.0
botocore>=1.34.0

# Procesamiento de imágenes y ML
pillow>=10.0.0
opencv-python-headless>=4.8.0
numpy>=1.24.0
scikit-learn>=1.3.0

# RECONOCIMIENTO FACIAL
dlib>=19.22.0
face_recognition>=1.3.0

# Utilidades
python-dotenv>=1.0.0
python-jose[cryptography]>=3.3.0
passlib[bcrypt]>=1.7.4
pydantic>=2.5.0
pydantic-settings>=2.0.0
httpx>=0.25.0
requests>=2.31.0
psutil>=5.9.0

# ==========================================
# DEPENDENCIAS DE DESARROLLO (OPCIONALES)
# ==========================================

# Testing (solo para desarrollo local)
# pytest>=7.4.0
# pytest-asyncio>=0.21.0

# ==========================================
# NOTAS PARA DEPLOYMENT
# ==========================================

# 1. MYSQL: Usar pymysql como driver puro Python
#    Compatible con Railway y servidores sin libmysqlclient
#
# 2. CLOUDFLARE D1: Para producción
#    MySQL para desarrollo local
#
# 3. ELIMINADO: Cualquier referencia a sqlite3
#
# 4. CRYPTOGRAPHY: Requerido por pymysql para conexiones seguras

# ==========================================
# COMANDOS PARA DEPLOYMENT
# ==========================================

# Build Command: pip install -r requirements.txt
# Start Command: gunicorn app.main:app -w 1 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:$PORT

# Para desarrollo local:
# uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload